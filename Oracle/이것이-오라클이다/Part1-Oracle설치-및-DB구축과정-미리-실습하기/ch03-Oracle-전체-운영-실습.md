# ch03-Oracle-전체-운영-실습
핵심 개념  
- 테이블 외에 데이터베이스 개체로는 인덱스, 뷰, 스토어드 프로시저, `함수`, 트리거, 커서 등이 있다.
- 백업은 현재의 데이터베이스를 다른 매체에 보관하는 작업을 말하며, 복원은 다른 매체에 백업된 데이터를 이용해서 원상태로 돌려놓는 작업을 말한다.
- Oracle을 응용프로그램과 연동하는 것은 실무에서 많이 사용되는 방식이다

## 3.1 요구사항 분석과 시스템 설계 그리고 모델링
![image](https://user-images.githubusercontent.com/68311318/123535486-0921b100-d75f-11eb-9341-62b758ae4a09.png)  
스키마 : 테이블, 뷰 등이 저장되는 저장소를 말하거나 여러 테이블, 뷰 등의 묶음으로도 말한다. 또한 스키마는 사용자 이름과 동일하게 취급된다. 그림에서 보이듯 사용자를 생성하면 사용자별 고유의 공간이 생기는 이를 스키마로 보면 된다. 스키마는 그림과 같이 원통 모양으로 주로 표현한다.  
데이터베이스 용어는 각 DBMS 제품마다 다른 의미로 사용된다. 특히 Oracle은 데이터베이스 용어의 개념이 다른 DBMS 제품보다 더 크고 포괄적인 의미로 사용된다. 우리는 Oracle을 학습하고 있으므로 그림 3-1처럼 여러개의 테이블 등을 저장하고 있는 묶음을 스키마라 부르기로 하자.  
![image](https://user-images.githubusercontent.com/68311318/123535571-9ebd4080-d75f-11eb-8c01-16088ac94baa.png)  
참고로 MySQL, MariaDB, SQL Server 등에서는 그림 3-1의 스키마를 데이터베이스라고 부르며, 그림 3-1에 표현된 데이터베이스는 없다고 보면된다.  

DBMS : DataBase Management System의 약자로 `스키마`를 관리하는 시스템 또는 소프트웨어를 말한다. Oracle이 곧 DBMS이며 그림 3-1에서는 DBMS가 1개의 데이터베이스를 관리하고 있다. 또 데이터베이스 안에는 3개의 스키마가 존재한다. DBMS, 데이터베이스, 스키마, 사용자에 대한 정의를 컴퓨터 학자나 다른 툴에서는 의견을 달리하기도 한다. 그림 3-1과 같이 스키마는 데이터(테이블)의 저장소 또는 사용자의 공간을 말하며 DataBase는 여러 스키마의 저장소를 말하며, DBMS는 이 DataBase를 관리하믄 소프트웨어 정도로 이해하자.  

## 3.2 Oracle을 이용한 스키마 구축 절차
직접 그림 3-1에 표현된 것을 Oracle XE에서 구축해보자.  
![image](https://user-images.githubusercontent.com/68311318/123535450-ceb81400-d75e-11eb-9789-8e1f0100a51f.png)  

### 3.2.1 스키마 생성
그림 3-1처럼 쇼핑몰 스키마를 생성해보자. 그런데 스키마는 개념적으로 존재한다고 보면 된다. 스키마를 별도로 생성하는 게 아니라, Oracle 사용자를 생성하면 사용자의 저장소가 구성되므로 그림 3-1의 비어잇는 스키마각 생성된다고 보면 된다. 그래서 Oracle에서는 사용자이름 = 스키마이름으로 취급한다.  

실습 1 : 쇼핑몰(Shop) 스키마를 생성해보자  
**step1**  
스키마(=사용자)를 생성하자.  
접속창의 [로컬-SYSTEM]을 확장하고 제일 아래 [다른사용자]에서 마우스 오른쪽 버튼 -> [사용자 생성]을 선택.  
사용자 이름(=스키마이름)에 Shop 입력, 비번 1234, 기본 테이블스페이스 USERS, 임시 테이블 스페이스 TEMP, CONNECT와 RESOURCE의 [권한이부여됨]체크, 할당량 탭에서 USERS 테이블 스페이스의 할당량을 10으로 단위를 M으로 입력. 끝.  

**step2**  
이제 새로운 스키마인 SHOP 스키마에 `접속`을 생성해 놓자.  
접속 창의 + 클릭해서 새로운 접속을 생성하자. 접속이름은 로컬-Shop으로 사용자 이름은 Shop으로 비밀번호는 1234.  

에러: `상태: 실패 -테스트 실패: ORA-01017: invalid username/password; logon denied`  
step1에서 Shop으로 만들고 step2를 진행하는 데 자꾸 위 에러가 나온다. 그래서 다시 step1으로 돌아가 Shop이 아닌 SHOP으로 만들었고 step2에서 사용자이름에 SHOP, shop, Shop, sHop등 대소문자 구분안하고 넣어보니까 테스트에 성공했다. step1에서 shop으로 만들어도 step2가 진행이 안된다.  
sql developer gui로 만들면 이름에 소문자를 넣었을때 위와같은 오류가 난다. 사용자를 만들때 직접 sql를 작성해서 만들면 소문자를 이름에 넣고 step2를 진행해도 위와같은 에러가 나지 않는다.    
```sql
create user sqlDB identified by 1234
default tablespace users
temporary tablespace temp;

grant connect, resource, dba to sqlDB;
```
ch06에서 step1을 위와같이 했을때 step2에서 에러가 나지 않았다.  

